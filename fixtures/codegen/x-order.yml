openapi: 3.0.0
info:
  description: Test for x-order
  version: 0.0.1
  title: Test for x-order
  contact:
    email: takano@liberent.co.jp
paths:
  /user/startSession:
    post:
      summary: Test for x-order
      description: Test for x-order
      operationId: StartSession
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/clientProfile"
          application/x-msgpack-array:
            schema:
              $ref: "#/components/schemas/clientProfile"
        description: client profile
        required: true
      responses:
        "200":
          description: successful operation
          headers:
            X-Server-Time:
              description: Unixtime
              schema:
                type: integer
                format: uint64
            Content-Encoding:
              description: gzip etc
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/sessionData"
            application/x-msgpack-array:
              schema:
                $ref: "#/components/schemas/sessionData"
        "400":
          description: Invalid input
        "503":
          description: Service in Maintenance.
components:
  schemas:
    empty:
      type: object
    clientProfile:
      type: object
      properties:
        deviceId:
          x-order: 0
          type: string
          description: deveide unique
        os:
          x-order: 1
          type: string
          description: OS("ios","android","pc")
        appVersion:
          x-order: 2
          type: string
          description: app version
        masterVersion:
          x-order: 3
          type: integer
          format: uint64
          description: master data version
    sessionData:
      type: object
      properties:
        aaa:
          type: string
          format: string
          description: ZZZ
        bbb:
          type: string
          format: string
          description: AAA
        zzz:
          type: string
          format: string
          description: BBB
        sessionId:
          x-order: 0
          type: string
          description: session unique
        deviceId:
          x-order: 1
          x-go-custom-tag: hello1
          type: string
          description: deveide unique
        uMain:
          $ref: "#/components/schemas/u_main"
    u_main:
      type: object
      properties:
        uuid:
          x-order: 0
          type: string
          format: string
          description: UUID
        uid:
          x-order: 1
          type: integer
          format: uint32
          description: public user id
        name:
          x-order: 2
          type: string
          format: string
          description: user name
        ts:
          x-order: 3
          type: integer
          format: uint64
          description: registerd timestamp
