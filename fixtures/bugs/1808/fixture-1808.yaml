openapi: 3.0.0
info:
  title: Marketplace Parser
  version: 0.1.0
paths:
  /search:
    post:
      tags:
        - watchedgames
      operationId: searchGame
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - gameName
              properties:
                gameName:
                  type: string
        description: Name of the game to search for.
      responses:
        "200":
          description: list of products that matches the searched game
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/gameSearchResult"
        "500":
          description: generic error response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
servers:
  - url: http://localhost:45555
components:
  schemas:
    gameSearchResult:
      type: object
      description: A collection of games that have been found through
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/gameSearchResultItem"
    gameSearchResultItem:
      type: object
      description: A game that have been found
      properties:
        name:
          description: Name of the product
          type: string
        price:
          description: Price of the product
          type: number
          format: double
        provider:
          description: Provider on which this product was found
          type: string
        link:
          type: string
          description: Url to this product
    error:
      type: object
      required:
        - message
      properties:
        code:
          type: integer
          format: int64
        message:
          type: string
