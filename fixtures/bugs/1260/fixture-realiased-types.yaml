openapi: 3.0.0
info:
  version: 0.1.1
  title: test 1
  description: realiased types
  contact:
    name: Fred
paths:
  /getAll:
    get:
      operationId: getAll
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/a0"
        description: max number of results
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/a0"
        "201":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/h0"
        "203":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/h1"
        "204":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/h2"
        "206":
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/h2"
  /getSome:
    get:
      operationId: getSome
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/h2"
        description: some polymorphic results
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/c2"
components:
  schemas:
    a0:
      $ref: "#/components/schemas/a1"
    a1:
      type: array
      items:
        type: integer
    a2:
      $ref: "#/components/schemas/a0"
    b0:
      $ref: "#/components/schemas/b1"
    b1:
      type: object
      additionalProperties:
        type: integer
    b2:
      $ref: "#/components/schemas/b0"
    c0:
      $ref: "#/components/schemas/c1"
    c1:
      type: object
      additionalProperties: true
    c2:
      $ref: "#/components/schemas/c0"
    d0:
      $ref: "#/components/schemas/d1"
    d1:
      type: integer
    d2:
      $ref: "#/components/schemas/d0"
    e0:
      $ref: "#/components/schemas/e1"
    e1:
      type: string
      format: date
    e2:
      $ref: "#/components/schemas/e0"
    f0:
      $ref: "#/components/schemas/f1"
    f1:
      type: string
      format: uuid
    f2:
      $ref: "#/components/schemas/f0"
    g0:
      $ref: "#/components/schemas/g1"
    g1:
      type: object
      properties:
        prop1:
          type: integer
    g2:
      $ref: "#/components/schemas/g0"
    a0v:
      $ref: "#/components/schemas/a1v"
    a1v:
      type: array
      maxItems: 100
      items:
        type: integer
        maximum: 100
    a2v:
      $ref: "#/components/schemas/a0v"
    b0v:
      $ref: "#/components/schemas/b1v"
    b1v:
      type: object
      additionalProperties:
        type: integer
        maximum: 100
    b2v:
      $ref: "#/components/schemas/b0v"
    c0v:
      $ref: "#/components/schemas/c1v"
    c1v:
      type: object
      additionalProperties: true
    c2v:
      $ref: "#/components/schemas/c0v"
    d0v:
      $ref: "#/components/schemas/d1v"
    d1v:
      type: integer
      maximum: 100
    d2v:
      $ref: "#/components/schemas/d0v"
    e0v:
      $ref: "#/components/schemas/e1v"
    e1v:
      type: string
      format: date
    e2v:
      $ref: "#/components/schemas/e0v"
    f0v:
      $ref: "#/components/schemas/f1v"
    f1v:
      type: string
      format: uuid
    f2v:
      $ref: "#/components/schemas/f0v"
    g0v:
      $ref: "#/components/schemas/g1v"
    g1v:
      type: object
      required:
        - prop2v
      properties:
        prop1v:
          type: integer
          maximum: 100
        prop2v:
          type: integer
    g2v:
      $ref: "#/components/schemas/g0v"
    h0:
      $ref: "#/components/schemas/h1"
    h1:
      type: object
      discriminator:
        propertyName: htype
      properties:
        h1p1:
          type: string
        h1p2:
          type: string
          format: date
    hsubtype1:
      type: object
      allOf:
        - $ref: "#/components/schemas/h1"
        - properties:
            hsp1:
              type: integer
              format: uint32
    hsubtype2:
      type: object
      allOf:
        - $ref: "#/components/schemas/h1"
        - properties:
            hsp2:
              type: string
              format: date-time
    h2:
      $ref: "#/components/schemas/h0"
    hs0:
      $ref: "#/components/schemas/hsubtype1"
    hs2:
      $ref: "#/components/schemas/hs0"
