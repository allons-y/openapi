openapi: 3.0.0
info:
  version: 1.0.0
  title: fixture for enums with additional
  description: |
    A test of enum validation generation for tuples and additionalItems.
    Derived from fixtures/codegen/todolist.enum.yml
paths:
  /models:
    get:
      operationId: modelOp
      summary: many model variations
      description: Used to see if a codegen can render all the possible enum categories
      tags:
        - testcgen
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/allThingsNested"
      responses:
        default:
          description: Generic Out
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/allThings"
components:
  schemas:
    aliasedDate:
      type: string
      format: date
    aliasedNullableDate:
      type: string
      format: date
      nullable: true
    allThings:
      type: object
      allOf:
        - type: object
          required:
            - origin
          properties:
            origin:
              type: string
              enum:
                - print
                - e-book
                - collection
                - museum
            status:
              type: string
              enum:
                - OK
                - KO
            additionalProperties:
              type: string
              enum:
                - bookshop
                - amazon
                - library
        - type: object
          properties:
            mockId:
              type: number
          additionalProperties:
            type: object
            required:
              - mockB
            properties:
              mockA:
                type: string
                pattern: ^[A-Z]$
              mockB:
                type: string
                minLength: 1
              mockC:
                type: number
        - type: object
          properties:
            origin2:
              type: string
              enum:
                - goPrint
                - goE-book
                - goCollection
                - goMuseum
          additionalProperties:
            type: object
            properties:
              printerAddress:
                type: string
              printerDate:
                type: string
                format: date
              printerCountry:
                type: string
                enum:
                  - US
                  - FR
                  - UK
                  - BE
                  - CA
                  - DE
            additionalProperties:
              type: object
              properties:
                averageDelay:
                  type: string
                  format: duration
        - type: object
          additionalProperties: true
          properties:
            discourse:
              type: string
            hoursSpent:
              type: number
        - type: object
          properties:
            blob:
              type: integer
              minimum: 1
          additionalProperties:
            $ref: "#/components/schemas/aliasedDate"
        - type: object
          properties:
            blob2:
              type: integer
              minimum: 1
          additionalProperties:
            $ref: "#/components/schemas/aliasedNullableDate"
        - type: object
          properties:
            nullableDate:
              $ref: "#/components/schemas/aliasedNullableDate"
        - type: object
          properties:
            blob3:
              type: integer
              minimum: 1
          additionalProperties:
            $ref: "#/components/schemas/aliasedNullableDate"
        - type: object
          required:
            - blob4
          properties:
            blob4:
              type: integer
              minimum: 1
          additionalProperties:
            type: string
            format: date
        - type: object
          properties:
            thisOneNotRequired:
              type: integer
              maximum: 10
          additionalProperties:
            type: array
            uniqueItems: true
            items:
              type: string
              format: uuid
    allThingsNested:
      type: object
      allOf:
        - $ref: "#/components/schemas/allThings"
        - type: object
          required:
            - origin
          properties:
            origin:
              type: string
              enum:
                - print
                - e-book
                - collection
                - museum
            status:
              type: string
              enum:
                - OK
                - KO
            additionalProperties:
              type: string
              enum:
                - bookshop
                - amazon
                - library
        - type: object
          properties:
            mockId:
              type: number
          additionalProperties:
            type: object
            required:
              - mockB
            properties:
              mockA:
                type: string
                pattern: ^[A-Z]$
              mockB:
                type: string
                minLength: 1
              mockC:
                type: number
        - type: object
          properties:
            origin2:
              type: string
              enum:
                - goPrint
                - goE-book
                - goCollection
                - goMuseum
          additionalProperties:
            type: object
            properties:
              printerAddress:
                type: string
              printerDate:
                type: string
                format: date
              printerCountry:
                type: string
                enum:
                  - US
                  - FR
                  - UK
                  - BE
                  - CA
                  - DE
            additionalProperties:
              type: object
              properties:
                averageDelay:
                  type: string
                  format: duration
        - type: object
          additionalProperties: true
          properties:
            discourse:
              type: string
            hoursSpent:
              type: number
        - type: object
          properties:
            blob:
              type: integer
              minimum: 1
          additionalProperties:
            $ref: "#/components/schemas/aliasedDate"
        - type: object
          properties:
            blob2:
              type: integer
              minimum: 1
          additionalProperties:
            $ref: "#/components/schemas/aliasedNullableDate"
        - type: object
          properties:
            nullableDate:
              $ref: "#/components/schemas/aliasedNullableDate"
        - type: object
          properties:
            blob3:
              type: integer
              minimum: 1
          additionalProperties:
            $ref: "#/components/schemas/aliasedNullableDate"
        - type: object
          required:
            - blob4
          properties:
            blob4:
              type: integer
              minimum: 1
          additionalProperties:
            type: string
            format: date
        - type: object
          properties:
            thisOneNotRequired:
              type: integer
              maximum: 10
          additionalProperties:
            type: array
            uniqueItems: true
            items:
              type: string
              format: uuid
