openapi: 3.0.0
info:
  version: 1.0.0
  title: Test Issue 303
paths:
  /giveFruit:
    get:
      operationId: giveFruit
      summary: Give some fruit
      description: The service "consumes" some fruit and returns successfully if it
        tastes pretty good :).
      parameters:
        - name: fruit
          in: query
          description: |
            Fruit types:
            * `Apple`
            * `Pear`
            * `Plum`
          required: true
          x-nullable: false
          x-go-enum-ci: true
          schema:
            type: string
            enum:
              - Apple
              - Pear
              - Plum
      responses:
        "200":
          description: The fruit tasted good :-P.
  /giveFruitBasket:
    get:
      operationId: giveFruitBasket
      summary: Give several kinds of fruit
      description: The service accepts several kinds of fruit in a wicker basket as a
        present :-D.
      parameters:
        - name: fruit
          in: query
          description: |
            Fruit types:
            * `Peach`
            * `Apricot`
            * `Strawberry`
            * `Raspberry`
            * `Blueberry`
            * `Cranberry`
            * `Banana`
            * `Pineapple`
            * `Orange`
            * `Grapefruit`
            * `Lemon`
            * `Lime`
          x-nullable: false
          x-go-enum-ci: true
          style: pipeDelimited
          schema:
            type: array
            items:
              type: array
              items:
                type: string
                enum:
                  - Peach
                  - Apricot
                uniqueItems: true
                x-go-enum-ci: true
                nullable: false
              enum:
                - - Strawberry
                  - Raspberry
                - - Blueberry
                  - Cranberry
              uniqueItems: true
              x-go-enum-ci: true
              nullable: false
            uniqueItems: true
            enum:
              - - - Banana
                  - Pineapple
              - - - Orange
                  - Grapefruit
                - - Lemon
                  - Lime
          x-s2o-warning: Nested collectionFormats are not supported
      responses:
        "200":
          description: A wicker fruit basket?! Excellent! X-D
components:
  schemas:
    Vegetable:
      description: |
        Vegetable types:
        * `Tomato`
        * `Cucumber`
        * `Pepper`
      type: string
      enum:
        - Tomato
        - Cucumber
        - Pepper
      x-go-enum-ci: true
      nullable: false
