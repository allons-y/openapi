openapi: 3.0.0
info:
  title: edge cases for operations schemas
  version: 0.0.1
  description: >
    Run the following test caes and exercise the minimal flatten mode:
      - [x] nil schema in body param / response
      - [x] interface{} in body param /response
      - [x] additional schema reused from model (body param and response) (with maps or arrays)
      - [x] primitive body / response
      - [x] $ref'ed response and param (check that minimal flatten expands it)
      - [] x-go-name in inline operation schema (body param and response)
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
paths:
  /getNull:
    get:
      operationId: getNull
      requestBody:
        content:
          application/json:
            schema: {}
        required: true
      responses:
        "200":
          $ref: "#/components/responses/resp1"
        "203":
          description: OK
  /getInterface:
    get:
      operationId: getInterface
      requestBody:
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true
        required: true
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                type: object
                additionalProperties: true
  /getModelInterface:
    get:
      operationId: getModelInterface
      requestBody:
        content:
          application/json:
            schema:
              type: object
              additionalProperties:
                $ref: "#/components/schemas/modelInterface"
        required: true
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/modelInterface"
  /getPrimitive:
    get:
      operationId: getPrimitive
      requestBody:
        content:
          application/json:
            schema:
              type: integer
              format: uint32
              maximum: 100
        required: true
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                type: number
                format: float
                maximum: 100
components:
  responses:
    resp1:
      description: OK
      content:
        "*/*":
          schema:
            type: object
            additionalProperties: true
  schemas:
    modelInterface:
      type: object
      additionalProperties: true
